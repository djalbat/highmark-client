"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
require("juxtapose");
var _easywithstyle = /*#__PURE__*/ _interop_require_default(require("easy-with-style"));
var _easy = require("easy");
var _sufficient = require("sufficient");
var _fragmented = require("fragmented");
var _view = /*#__PURE__*/ _interop_require_default(require("./view"));
var _loading = /*#__PURE__*/ _interop_require_default(require("./view/div/loading"));
var _createMethods = /*#__PURE__*/ _interop_require_default(require("./createMethods"));
var _state = require("./state");
var _localStorage = require("./localStorage");
var _orientation = require("./utilities/orientation");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
var renderStyles = _easywithstyle.default.renderStyles;
renderStyles();
(0, _localStorage.migratePersistentState)();
var scheduler = null, model = null, view = /*#__PURE__*/ React.createElement(_view.default, null), body = new _easy.Body();
_sufficient.controller.assignMethods(_createMethods.default, scheduler, model, view);
(0, _orientation.onOrientationChange)(function(orientation) {
    (0, _state.setOrientation)(orientation);
    view.updateZoom();
});
(0, _fragmented.onFragmentChange)(function(event, element, fragment) {
    var anchorId = "".concat(fragment);
    view.goToAnchor(anchorId);
});
(0, _orientation.getOrientation)(function(orientation) {
    (0, _state.setOrientation)(orientation);
    _loading.default.hide();
    body.mount(view);
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCBcImp1eHRhcG9zZVwiO1xuXG5pbXBvcnQgd2l0aFN0eWxlIGZyb20gXCJlYXN5LXdpdGgtc3R5bGVcIjsgIC8vL1xuXG5pbXBvcnQgeyBCb2R5IH0gZnJvbSBcImVhc3lcIjtcbmltcG9ydCB7IGNvbnRyb2xsZXIgfSBmcm9tIFwic3VmZmljaWVudFwiO1xuaW1wb3J0IHsgb25GcmFnbWVudENoYW5nZSB9IGZyb20gXCJmcmFnbWVudGVkXCI7XG5cbmltcG9ydCBWaWV3IGZyb20gXCIuL3ZpZXdcIjtcbmltcG9ydCBsb2FkaW5nRGl2IGZyb20gXCIuL3ZpZXcvZGl2L2xvYWRpbmdcIjtcbmltcG9ydCBjcmVhdGVNZXRob2RzIGZyb20gXCIuL2NyZWF0ZU1ldGhvZHNcIjtcblxuaW1wb3J0IHsgc2V0T3JpZW50YXRpb24gfSBmcm9tIFwiLi9zdGF0ZVwiO1xuaW1wb3J0IHsgbWlncmF0ZVBlcnNpc3RlbnRTdGF0ZSB9IGZyb20gXCIuL2xvY2FsU3RvcmFnZVwiO1xuaW1wb3J0IHsgZ2V0T3JpZW50YXRpb24sIG9uT3JpZW50YXRpb25DaGFuZ2UgfSBmcm9tIFwiLi91dGlsaXRpZXMvb3JpZW50YXRpb25cIjtcblxuY29uc3QgeyByZW5kZXJTdHlsZXMgfSA9IHdpdGhTdHlsZTtcblxucmVuZGVyU3R5bGVzKCk7XG5cbm1pZ3JhdGVQZXJzaXN0ZW50U3RhdGUoKTtcblxuY29uc3Qgc2NoZWR1bGVyID0gbnVsbCxcbiAgICAgIG1vZGVsID0gbnVsbCxcbiAgICAgIHZpZXcgPVxuXG4gICAgICAgIDxWaWV3Lz5cblxuICAgICAgLFxuICAgICAgYm9keSA9IG5ldyBCb2R5KCk7XG5cbmNvbnRyb2xsZXIuYXNzaWduTWV0aG9kcyhjcmVhdGVNZXRob2RzLCBzY2hlZHVsZXIsIG1vZGVsLCB2aWV3KTtcblxub25PcmllbnRhdGlvbkNoYW5nZSgob3JpZW50YXRpb24pID0+IHtcbiAgc2V0T3JpZW50YXRpb24ob3JpZW50YXRpb24pO1xuXG4gIHZpZXcudXBkYXRlWm9vbSgpO1xufSk7XG5cbm9uRnJhZ21lbnRDaGFuZ2UoKGV2ZW50LCBlbGVtZW50LCBmcmFnbWVudCkgPT4ge1xuICBjb25zdCBhbmNob3JJZCA9IGAke2ZyYWdtZW50fWA7XG5cbiAgdmlldy5nb1RvQW5jaG9yKGFuY2hvcklkKTtcbn0pO1xuXG5nZXRPcmllbnRhdGlvbigob3JpZW50YXRpb24pID0+IHtcbiAgc2V0T3JpZW50YXRpb24ob3JpZW50YXRpb24pO1xuXG4gIGxvYWRpbmdEaXYuaGlkZSgpO1xuXG4gIGJvZHkubW91bnQodmlldyk7XG59KTtcbiJdLCJuYW1lcyI6WyJyZW5kZXJTdHlsZXMiLCJ3aXRoU3R5bGUiLCJtaWdyYXRlUGVyc2lzdGVudFN0YXRlIiwic2NoZWR1bGVyIiwibW9kZWwiLCJ2aWV3IiwiVmlldyIsImJvZHkiLCJCb2R5IiwiY29udHJvbGxlciIsImFzc2lnbk1ldGhvZHMiLCJjcmVhdGVNZXRob2RzIiwib25PcmllbnRhdGlvbkNoYW5nZSIsIm9yaWVudGF0aW9uIiwic2V0T3JpZW50YXRpb24iLCJ1cGRhdGVab29tIiwib25GcmFnbWVudENoYW5nZSIsImV2ZW50IiwiZWxlbWVudCIsImZyYWdtZW50IiwiYW5jaG9ySWQiLCJnb1RvQW5jaG9yIiwiZ2V0T3JpZW50YXRpb24iLCJsb2FkaW5nRGl2IiwiaGlkZSIsIm1vdW50Il0sIm1hcHBpbmdzIjoiQUFBQTs7OztRQUVPO29FQUVlO29CQUVEOzBCQUNNOzBCQUNNOzJEQUVoQjs4REFDTTtvRUFDRztxQkFFSzs0QkFDUTsyQkFDYTs7Ozs7O0FBRXBELElBQU0sQUFBRUEsZUFBaUJDLHNCQUFTLENBQTFCRDtBQUVSQTtBQUVBRSxJQUFBQSxvQ0FBc0I7QUFFdEIsSUFBTUMsWUFBWSxNQUNaQyxRQUFRLE1BQ1JDLHFCQUVFLG9CQUFDQyxhQUFJLFNBR1BDLE9BQU8sSUFBSUMsVUFBSTtBQUVyQkMsc0JBQVUsQ0FBQ0MsYUFBYSxDQUFDQyxzQkFBYSxFQUFFUixXQUFXQyxPQUFPQztBQUUxRE8sSUFBQUEsZ0NBQW1CLEVBQUMsU0FBQ0M7SUFDbkJDLElBQUFBLHFCQUFjLEVBQUNEO0lBRWZSLEtBQUtVLFVBQVU7QUFDakI7QUFFQUMsSUFBQUEsNEJBQWdCLEVBQUMsU0FBQ0MsT0FBT0MsU0FBU0M7SUFDaEMsSUFBTUMsV0FBVyxBQUFDLEdBQVcsT0FBVEQ7SUFFcEJkLEtBQUtnQixVQUFVLENBQUNEO0FBQ2xCO0FBRUFFLElBQUFBLDJCQUFjLEVBQUMsU0FBQ1Q7SUFDZEMsSUFBQUEscUJBQWMsRUFBQ0Q7SUFFZlUsZ0JBQVUsQ0FBQ0MsSUFBSTtJQUVmakIsS0FBS2tCLEtBQUssQ0FBQ3BCO0FBQ2IifQ==